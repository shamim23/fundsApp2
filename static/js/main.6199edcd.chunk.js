(this["webpackJsonpfunds-app"]=this["webpackJsonpfunds-app"]||[]).push([[0],{24:function(e,n,t){},45:function(e,n,t){},48:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),c=t(19),s=t.n(c),i=(t(24),t(4)),d=t(5),u=t(7),h=t(6),l=t(9),j=t(8),o=t.n(j),b=t(13),f=t(3),m=t(10),p=t.n(m),g=t(0),O=(a.Component,function(e){Object(u.a)(t,e);var n=Object(h.a)(t);function t(e){var r;return Object(i.a)(this,t),(r=n.call(this,e)).handleDelete=function(e){var n="http://132.145.210.248:8080/captain/funds/"+e.fund_id,t=r.state.funds.filter((function(n){return n.fund_id!==e.fund_id}));r.setState({funds:t}),fetch(n,{method:"DELETE",headers:{"Content-Type":"application/json","API-Key":"secret"}})},r.handleShow=function(e){var n=r.state.funds.filter((function(n){return n.fund_id==e.fund_id}));r.setState({funds:n})},r.getFundList=function(){var e=r.state.funds;return console.log(e),Object(g.jsx)(a.Fragment,{children:e.map((function(e){return Object(g.jsxs)("tr",{children:[Object(g.jsx)("td",{children:Object(g.jsx)("button",{type:"button",onClick:function(){return r.handleShow(e)},class:"btn btn-light btn-sm",children:e.fund_id})}),Object(g.jsx)("td",{children:e.fund_name}),Object(g.jsx)("td",{children:e.fund_inception_date}),Object(g.jsx)("td",{children:e.fund_manager.fund_manager_id}),Object(g.jsx)("td",{children:e.fund_manager.fund_manager_name}),Object(g.jsx)("td",{children:e.fund_manager.fund_manager_phone}),Object(g.jsx)("td",{children:e.fund_manager.fund_manager_mail_address}),Object(g.jsx)("td",{children:e.fund_manager.fund_manager_birth_date}),Object(g.jsx)("td",{children:Object(g.jsx)("button",{type:"button",onClick:function(){return r.handleDelete(e)},class:"btn btn-danger btn-sm",children:"Delete"})})]},e.fund_id)}))})},r.state={url:"http://132.145.210.248:8080/captain/funds",funds:[],name:"",manager:"",managers:""},r.handleChange=r.handleChange.bind(Object(f.a)(r)),r.handleSubmit=r.handleSubmit.bind(Object(f.a)(r)),r}return Object(d.a)(t,[{key:"componentWillMount",value:function(){var e=Object(b.a)(o.a.mark((function e(){var n,t,a,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("http://132.145.210.248:8080/captain/funds");case 2:return n=e.sent,t=n.data,this.setState({funds:t}),e.next=7,p.a.get("http://132.145.210.248:8080/captain/fund_managers");case 7:a=e.sent,r=a.data,c=[],r.forEach((function(e){c.push(e.fund_manager_id)})),this.setState({managers:c});case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleSubmit",value:function(){var e=Object(b.a)(o.a.mark((function e(n){var t,a,r,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),t=this.state,a=t.name,r=t.manager,this.state.managers.includes(r)){e.next=4;break}return e.abrupt("return",this.setState({noManager:!0}));case 4:return c={fund_name:a,fund_manager:{fund_manager_id:r}},s={headers:{"Content-Type":"application/x-www-form-urlencoded"}},e.next=8,p.a.post("http://132.145.210.248:8080/captain/funds",c,s);case 8:e.sent;case 9:case"end":return e.stop()}}),e,this)})));return function(n){return e.apply(this,arguments)}}()},{key:"handleChange",value:function(e){this.setState(Object(l.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){this.state.funds;return Object(g.jsxs)(a.Fragment,{children:[this.state.noManager,Object(g.jsxs)("form",{className:"form-control",onSubmit:this.handleSubmit,children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"name",children:"Name"}),Object(g.jsx)("input",{name:"name",placeholder:"Name",value:this.state.name,onChange:this.handleChange})]}),Object(g.jsxs)("div",{children:[Object(g.jsx)("label",{htmlFor:"Manager",children:"Manager"}),Object(g.jsx)("input",{name:"manager",placeholder:"Manager",value:this.state.manager,onChange:this.handleChange})]}),Object(g.jsx)("div",{children:Object(g.jsx)("button",{children:"Create Fund"})})]}),Object(g.jsxs)("table",{className:"table table-dark",children:[Object(g.jsx)("thead",{children:Object(g.jsxs)("tr",{children:[Object(g.jsx)("th",{children:"ID"}),Object(g.jsx)("th",{children:"Name"}),Object(g.jsx)("th",{children:"Inception Date"}),Object(g.jsx)("th",{children:"Manager ID"}),Object(g.jsx)("th",{children:"Manager Name"}),Object(g.jsx)("th",{children:"Manager Phone"}),Object(g.jsx)("th",{children:"Manager Mail"}),Object(g.jsx)("th",{children:"Manager DOB"})]})}),Object(g.jsx)("tbody",{children:this.getFundList()})]})]})}}]),t}(a.Component)),x=(t.p,t(45),function(e){Object(u.a)(t,e);var n=Object(h.a)(t);function t(){return Object(i.a)(this,t),n.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){return Object(g.jsx)("main",{className:"container",children:Object(g.jsx)(O,{})})}}]),t}(a.Component)),_=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,49)).then((function(n){var t=n.getCLS,a=n.getFID,r=n.getFCP,c=n.getLCP,s=n.getTTFB;t(e),a(e),r(e),c(e),s(e)}))};t(46),t(47);s.a.render(Object(g.jsx)(r.a.StrictMode,{children:Object(g.jsx)(x,{})}),document.getElementById("root")),_()}},[[48,1,2]]]);
//# sourceMappingURL=main.6199edcd.chunk.js.map